for num in range(1000, 10000):
    # Разбиваем число на цифры
    a = num // 1000  # Первая цифра
    b = (num // 100) % 10  # Вторая цифра
    c = (num // 10) % 10  # Третья цифра
    d = num % 10  # Четвертая цифра

    # Проверяем, что сумма крайних цифр равна сумме средних
    if a + d == b + c:
        # Проверяем делимость на 6 и 27
        if num % 6 == 0 and num % 27 == 0:
            print(num)
            